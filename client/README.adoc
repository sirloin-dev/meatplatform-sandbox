= Sir.LOIN Sandbox Client
Hwan Jo <hwan.cho@sirloin.co.kr>
// Metadata:
:description: sirloin-sandbox-client
:keywords: dart, flutter
// Settings:
:doctype: book
:toc: left
:toclevels: 4
:sectlinks:
:icons: font
// Refs:

[[overview]]
:link-flutter-base: https://docs.flutter.dev
:link-flutter: {link-flutter-base}/get-started
:link-dart-pub: https://pub.dev/packages
== ë“¤ì–´ê°€ê¸°

ë§ˆì§€ë§‰ ìˆ˜ì • ì¼ì: 2022ë…„ 04ì›” 20ì¼ ìˆ˜ìš”ì¼

Sir.LOIN í”Œë«í¼íŒ€ *í”„ë¡ íŠ¸ì—”ë“œ* ê°œë°œììš© Sandbox Project ì…ë‹ˆë‹¤.
ì´ ë¬¸ì„œëŠ” Android Studio Bumblebee ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ëŠ” link:{link-flutter}[Flutter] ê¸°ìˆ ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
ì‹¤í–‰í•˜ì‹œë ¤ë©´ ê°œë°œ ì¥ë¹„ì— Flutter SDK ë¥¼ ë¨¼ì € ì„¤ì¹˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ì£¼ì˜: ì´ í”„ë¡œì íŠ¸ëŠ” ìµœì†Œí•œì˜ *'ì‹¤í–‰'* ì—ë§Œ ì´ˆì ì„ ë§ì·„ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì„±ì´ ë§¤ìš° ë–¨ì–´ì§‘ë‹ˆë‹¤.
ì–´ë–¤ ë¬¸ì œê°€ ìˆëŠ”ì§€ ì°¾ì•„ë³´ê³ , ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ì§€ í•œë²ˆ ìƒê°í•´ ë³´ì„¸ìš”!

[[coding-style]]
== ê³µí†µ ì½”ë”© ìŠ¤íƒ€ì¼ ì ìš©

Project root ì— IntelliJ IDEA ìš© link:sirloin-coding-styles.xml[] íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤.
Flutter lint ì„¤ì •ê³¼ ì½”ë”© ìŠ¤íƒ€ì¼ ì¶©ëŒë¡œ ë¹Œë“œê°€ ì‹¤íŒ¨í•œë‹¤ë©´ ë‹¤ìŒ ìˆœì„œë¡œ ì½”ë”© ìŠ¤íƒ€ì¼ íŒŒì¼ì„ ì ìš©í•´ì£¼ì„¸ìš”.

. File > Settings ë©”ë‰´ ì§„ì…
. Editor > Code Styles ì„¤ì • í•­ëª© ì§„ì…
. í™”ë©´ ìµœìƒë‹¨ `Scheme:` ì˜†ì˜ í†±ë‹ˆë°”í€´ ì•„ì´ì½˜ í´ë¦­
. Import Scheme > IntelliJ IDEA code style XML í´ë¦­
. íŒŒì¼ ì„ íƒ ì°½ì—ì„œ `sirloin-coding-styles.xml` íŒŒì¼ ì„ íƒ
. íŒì—… ì°½ì—ì„œ Scheme ì´ë¦„ì„ `Sirloin Code Styles` ë¡œ ì§€ì • í›„ ì ìš© ì™„ë£Œ

== ë¹Œë“œ ë° ì‹¤í–‰

ëª¨ë“  shell ëª…ë ¹ì€ í•´ë‹¹ project root ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•˜ê³  ì„¤ëª…í•©ë‹ˆë‹¤.

=== ë¹Œë“œí•˜ê¸°

==== 1. Android build

ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•©ë‹ˆë‹¤.

[source,shell]
----
$ flutter build apk

ğŸ’ª Building with sound null safety ğŸ’ª

Running Gradle task 'assembleRelease'...                           45.3s
âœ“  Built build/app/outputs/flutter-apk/app-release.apk (18.9MB).
----

ë¹Œë“œ ê²°ê³¼ë¬¼ì€ project root ì˜ build/app/outputs/flutter-apk/ ì— ìˆìŠµë‹ˆë‹¤.

ìì„¸í•œ ë‚´ìš©ì€ link:{link-flutter-base}/deployment/android[ê³µì‹ ë¬¸ì„œ - android build] ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

`flutter build apk` ì™€ `flutter build apk --split-per-abi` ì˜ ë‹¤ë¥¸ ì ì€ ë¬´ì—‡ì¼ê¹Œìš”?::
: `--split-per-abi` ë¥¼ í†µí•´ì„œ íƒ€ê²Ÿë³„ë„ ë”°ë¡œ ë¹Œë“œë˜ì—ˆê³  ê²°ê³¼ë¬¼ì˜ í¬ê¸°ë„ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ ì–´ë–¤ ê¸°ê¸°(cpu)ë¥¼ í†µí•´ ë¹Œë“œí•˜ê²Œ ë ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìš°ì„  í¬ê´„ì ìœ¼ë¡œ ë¹Œë“œí•˜ê¸° ìœ„í•´ `flutter build apk` ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.


==== 2. iOS build

ë¹Œë“œ ê²°ê³¼ë¬¼ì€ project root ì˜ build/app/outputs/flutter-apk/ ì— ìˆìŠµë‹ˆë‹¤.

ìì„¸í•œ ë‚´ìš©ì€ link:{link-flutter-base}/deployment/ios[ê³µì‹ ë¬¸ì„œ - ios build] ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

==== 3. Web build

ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•©ë‹ˆë‹¤.

[source,shell]
----
$ client git:(client) âœ— flutter build web

ğŸ’ª Building with sound null safety ğŸ’ª

Compiling lib/main.dart for the Web...                             18.7s
----

ë¹Œë“œ ê²°ê³¼ë¬¼ì€ project root ì˜ build/web ë””ë ‰í† ë¦¬ì— ìˆìŠµë‹ˆë‹¤. ì´ ë””ë ‰í† ë¦¬ë¥¼ web server ì˜ static directory ì— ë°°í¬í•˜ë©´ ë©ë‹ˆë‹¤.

ìì„¸í•œ ë‚´ìš©ì€ link:{link-flutter-base}/deployment/web[ê³µì‹ ë¬¸ì„œ] ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

=== ì‹¤í–‰í•˜ê¸°

==== í…ŒìŠ¤íŠ¸ ì‹¤í–‰

í…ŒìŠ¤íŠ¸ëŠ” ê·œëª¨ì— ë”°ë¼ í¬ê²Œ Unit, Widget, Integration ìœ¼ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ë¶„ë¥˜ ê¸°ì¤€ì€ link:https://docs.flutter.dev/testing[Flutter ê³µì‹ ë¬¸ì„œ] ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”.

ë˜í•œ test file ì€ ì´ë¦„ì´ `_test.dart` ë¡œ ëë‚˜ì•¼ í•˜ë©°, ê°œë³„ íŒŒì¼ë“¤ì€ ëª¨ë‘ `void main()` í•¨ìˆ˜ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

. ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
+
[source,shell]
----
$ flutter test
----

. ê°œë³„ ëª¨ë“ˆë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
+
ì „ì²´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤í–‰ì´ ì˜¤ë˜ ê±¸ë¦¬ê¸° ë•Œë¬¸ì—, ìì£¼ ì‹¤í–‰í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ëª¨ë“ˆëª…ê³¼, í…ŒìŠ¤íŠ¸ ê·œëª¨ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•˜ë©´ ì›í•˜ëŠ” í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
+
[source,shell]
----
$ flutter test [test/testcase/<small,medium,large>]
00:01 +2: meatplatform-sandbox/client/test/testcase/small/data/local/serialised_data_test.dart: Expiration ì„ ì´ˆê³¼í•œ...
...
00:32 +33: All tests passed!
----
+
ê°€ë ¹, Unit test ë“¤ë§Œ ì‹¤í–‰í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
+
[source,shell]
----
$ flutter test test/testcase/small
----

==== App ì‹¤í–‰

í´ë¼ì´ì–¸íŠ¸ App ì„ ì œëŒ€ë¡œ ì‹¤í–‰í•˜ë ¤ë©´ ì ‘ê·¼ê°€ëŠ¥í•œ API server ê°€ í•„ìš”í•©ë‹ˆë‹¤. link:https://github.com/sirloin-dev/meatplatform-sandbox/tree/main/server[Sir.LOIN Sandbox Server]ë¥¼ ê°œë°œ ì¥ë¹„ì— ì‹¤í–‰í•˜ê±°ë‚˜ ë˜ëŠ” í˜¸ìŠ¤íŒ… ê°€ëŠ¥í•œ ì„œë²„ì— ì‹¤í–‰í•œ í›„, link:lib/di/app/di_app_constants.dart[di_app_constants.dart] íŒŒì¼ì˜ Server ì£¼ì†Œë¥¼ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ëœ `http://10.0.2.2:8080` ëŠ” ë¡œì»¬ ê°œë°œì¥ë¹„ì˜ port `8080` ìœ¼ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰í•œ ìƒíƒœë¡œ, android emulator ë¡œ ì´ ì•±ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•œ ì£¼ì†Œì…ë‹ˆë‹¤.

=== ì½”ë“œ í’ˆì§ˆ ì¸¡ì •

ë†’ì€ ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•˜ëŠ” ì¼ì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ìš°ë¦¬ í”„ë¡œì íŠ¸ëŠ” ì¼ê´€ì„± ìˆëŠ” ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ link:{link-flutter-base}/testing/debugging#the-dart-analyzer[`Dart analyzer`] ë¼ëŠ” ë„êµ¬ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

https://dart.dev/guides/language/analysis-options

==== Dart analyzer ì‹¤í–‰í•˜ê¸°

ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•©ë‹ˆë‹¤.
ì°¸ê³ ë¡œ Dart analyzer ëŠ” Android studio Flutter í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í–ˆë‹¤ë©´ ì´ë¯¸ í¸ì§‘ê¸°ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤.
í¸ì§‘ê¸°ì˜ Warning ì„ ë¶€ì§€ëŸ°íˆ ì œê±°í–ˆë‹¤ë©´ analyzer ë¥¼ ì‹¤í–‰í•˜ë”ë¼ë„ ì•„ë§ˆ í° ë¬¸ì œë¥¼ ë°œê²¬í•˜ì§„ ì•Šì„ ê²ë‹ˆë‹¤.

[source,shell]
----
$ flutter analyze
Analyzing client...

No issues found! (ran in 1.1s)
----

ë˜í•œ ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” warning ì„ í—ˆìš©í•˜ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤. ê²½ê³ ë¥¼ í•´ì œí•˜ê¸° ìœ„í•´ linter ignore ë¥¼ ì“¸ ë•ŒëŠ” ë°˜ë“œì‹œ ê²½ê³  í•´ì œì˜ ì´ìœ ë¥¼ ì•„ë˜ì™€ ê°™ì€ ìŠ¤íƒ€ì¼ë¡œ ëª…ì‹œí•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

[source,dart]
----
// ê°œë°œ ëª¨ë“œì—ì„œ ì‚¬ìš©í•  debug print ì…ë‹ˆë‹¤.
// ignore: avoid_print
print(it);
----

ê²½ê³  í•´ì œì˜ ì´ìœ ëŠ” ëª¨ë“  ì‚¬ëŒì´ ì¶©ë¶„íˆ ë‚©ë“í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

== í”„ë¡œì íŠ¸ êµ¬ì¡°

=== ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬

ì´ í”„ë¡œì íŠ¸ëŠ” ì•„ë˜ì˜ library ë“¤ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ê°•ì¡° í‘œì‹œëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” íŠ¹íˆ ì¤‘ìš”í•˜ë©° ìƒì„¸í•œ í•™ìŠµì´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

ì™¸ë¶€ library ë„ì…ì‹œì—ëŠ”, ë¼ì´ì„¼ìŠ¤ì™€ ë„ì… ì˜ë„ë¥¼ ë°˜ë“œì‹œ ëª…ì‹œí•´ ì£¼ì„¸ìš”.

* *_link:{link-dart-pub}/flutter_bloc[flutter_bloc]_* - UI ë¡œì§ê³¼ ìƒíƒœê´€ë¦¬ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬
* *_link:{link-dart-pub}/tuple[tuple]_* - Tuple ìë£Œêµ¬ì¡° í™œìš©
* *_link:{link-dart-pub}/equatable[equatable]_* - Data object ë¹„êµ êµ¬í˜„ ë¹„ìš© ì ˆê°
* link:{link-dart-pub}/convert[dart convert] - text/json ë³€í™˜
* link:{link-dart-pub}/flutter_i18n[flutter_i18n] - í”„ë¡œê·¸ë¨ ë¬¸ìì—´ ë¦¬ì†ŒìŠ¤ë¥¼ ì†ŒìŠ¤ì½”ë“œë¡œë¶€í„° ë¶„ë¦¬, êµ­ì œí™” ëŒ€ì‘
* link:{link-dart-pub}/http[http] - API ì„œë²„ì™€ http í†µì‹ 
* link:{link-dart-pub}/localstorage[localstorage] - ìƒíƒœ ì €ì¥ ë° API í†µì‹  ë¹„ìš© ì ˆê°
* link:{link-dart-pub}/logger[logger] - Debug console log
* link:{link-dart-pub}/flutter_lints[flutter_lints] - Dart ì •ì  ë¶„ì„

=== ë””ë ‰í† ë¦¬ë³„ ì˜ë¯¸

í”„ë¡œê·¸ë¨ ìš”ì†Œë“¤ì„ ë‹¤ìŒ ê¸°ì¤€ìœ¼ë¡œ directory ë¥¼ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.

[source,shell]
----
lib/
  main.dart         # Dart build ì§„ì…ì . ë°˜ë“œì‹œ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  data/             # í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ Data ì…ì¶œë ¥ ë¡œì§ ëª¨ìŒ
    local/          #   Local ì— ë°ì´í„°ë¥¼ ì €ì¥ ë° ë³µì›í•˜ëŠ” ë¡œì§
    remote/         #   Remote ì— ë°ì´í„°ë¥¼ ì €ì¥ ë° ë³µì›í•˜ëŠ” ë¡œì§
      http/         #     Remote ì ‘ê·¼ ìˆ˜ë‹¨ì´ HTTP ì¸ ë¡œì§
    repository/     # Domain ë¡œì§ì˜ Repository êµ¬í˜„ì²´ ëª¨ìŒ
  di/               # Dependency Injection ì„ ì–¸. ê°œë³„ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ë‹¨ìœ„ë¥¼ 'module' ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë¶€ë¥´ê³  ìˆìŠµë‹ˆë‹¤.
  domain/           # Domain model ë¡œì§ ëª¨ìŒ. API ì‘ë‹µê³¼, ì•±ì—ì„œ ì‚¬ìš©í•˜ëŠ” model ì„ ë¶„ë¦¬í•˜ê¸° ìœ„í•œ layer ì…ë‹ˆë‹¤. UI ì™€ BLoC ì€ ì´ layer ì—ë§Œ ì‘ë‹µí•˜ë„ë¡ êµ¬í˜„í•´ ì£¼ì„¸ìš”.
  screen/           # 'í™”ë©´' ë‹¨ìœ„ì˜ UI ë¡œì§ ëª¨ìŒ.
  widget/           # ê³µí†µ Widget ë‹¨ìœ„ì˜ UI ë¡œì§ ëª¨ìŒ.
----

=== í”„ë¡œì íŠ¸ ì•„í‚¤í…ì³

Clean architecture ë‹¤ì´ì–´ê·¸ë¨ì— ë”°ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ë¶„í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[source,shell]
----
     ui / widget     â† DI (domain ë° data êµ¬í˜„ì²´)
         â†“
        BLoC         # ui <> BLoC ëŠ” ì„œë¡œ Message ì™€ State ë¥¼ êµí™˜í•˜ë©° ìƒí˜¸ì‘ìš© í•œë‹¤.
         â†“
  domain repository  # ì—¬ê¸°ì„œë¶€í„°ëŠ” protocol ë§Œ BLoC ì— ë…¸ì¶œí•œë‹¤. ì‹¤ì œ êµ¬í˜„ì€ DI ë¡œ ì£¼ì…í•œë‹¤.
         â†“
    domain model
         â†“
        data
----

Domain model ì´ë¼ëŠ” layer ë¥¼ ë‘ëŠ” ì´ìœ ëŠ”, ì™¸ë¶€ API ì˜ ë³€ê²½ì— ìš°ë¦¬ app ì˜ ê°ì¢… ë¡œì§ì´ ì§ì ‘ ì˜í–¥ë°›ëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
ê°€ë ¹, API ì˜ íŠ¹ì • field ê°€ ì‚­ì œë˜ì—ˆë‹¤ê³  í•©ì‹œë‹¤.

* UI drawing, local cache ë“±ì˜ ë¡œì§ì´ API response ì— ë°”ë¡œ ì˜ì¡´í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤ë©´:
+
local cache ì—…ë°ì´íŠ¸ ê³„íšê³¼, field ë¥¼ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  UI ë¡œì§ì„ ìˆ˜ì •í•´ì•¼ í•´ì„œ ìˆ˜ì • ë¹„ìš©ì´ ë§¤ìš° ì»¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* UI drawing, local cache ë“±ì˜ ë¡œì§ì´ domain model ì— ë°”ë¡œ ì˜ì¡´í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤ë©´:
+
API response -> Domain model ë³€í™˜ ë¶€ë¶„ë§Œ ìˆ˜ì •í•˜ê³  Domain model ì„ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ìˆ˜ì • ë¹„ìš©ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í´ë¼ì´ì–¸íŠ¸ì˜ ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ API Response ì— ë°”ë¡œ ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ layer ë¥¼ êµ¬ì„±í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

[[troubleshoot]]
== ë¬¸ì œê°€ ìˆë‚˜ìš”?

[[troubleshoot_no_logs]]
=== 1. Flutter doctor ë¥¼ ì‹¤í–‰í–ˆë”ë‹ˆ ì´ìƒí•œ Java ì˜¤ë¥˜ê°€ ë‚˜ì™€ìš”!

ì´ëŠ” Google ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” Android sdk tools ê°€ Java 8 ì— ì˜ì¡´í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤.
ë§Œì•½ ê°œë°œ ì¥ë¹„ì— Java 9 ì´ìƒì´ ì„¤ì¹˜ë˜ì—ˆë‹¤ë©´, `java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema` ë¼ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° `flutter doctor` ê°€ ì œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë¬¸ì œ ì¬í˜„ì„ ìœ„í•´ Android `sdkmanager` ëª…ë ¹ì„ ì‹¤í–‰í•´ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[source,shell]
----
$ sdkmanager --install "cmdline-tools;latest"
Exception in thread "main" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema
at com.android.repository.api.SchemaModule$SchemaModuleVersion.<init>(SchemaModule.java:156)
at com.android.repository.api.SchemaModule.<init>(SchemaModule.java:75)
at com.android.sdklib.repository.AndroidSdkHandler.<clinit>(AndroidSdkHandler.java:81)
at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)
at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)
Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema
at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
... 5 more
----

ì´ ë¬¸ì œëŠ” link:https://developer.android.com/studio/intro/update[ê³µì‹ ë¬¸ì„œ] ë¥¼ ì°¸ê³ í•´ Android sdk tools ë¥¼ ì—…ë°ì´íŠ¸ í•˜ë©´ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

=== 2. Android Studio ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ì–´ìš”!

Android studio ì—ì„œ test íŒŒì¼ì„ ìš°í´ë¦­í•˜ë©´ ë‚˜ì˜¤ëŠ” Pop-up context menu ì—ì„œ Run ì˜†ì— '>' ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.

ì´ ë•Œ test íŒŒì¼ì„ ì‹¤í–‰í•˜ë ¤ ì‹œë„í•˜ë©´ 'No tests were found' ì˜¤ë¥˜ì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ë˜ëŠ”, dart package import ì‹¤íŒ¨ ê°™ì€ ì´í•´ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸°ë„ í•©ë‹ˆë‹¤.

ì´ ë•ŒëŠ” Android studio ì˜ Run/Debug Configurations ë©”ë‰´ì— ì ‘ê·¼í•œ ë‹¤ìŒ, ë°©ê¸ˆ ì‹¤í–‰í•œ Test íŒŒì¼ì˜ ì‹¤í–‰ profile ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
ì•„ë§ˆ `Dart Command Line App` ìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆì„ ê²ë‹ˆë‹¤.

ë³´í†µ ì´ëŸ° ê²½ìš°ì—ëŠ” Project ì˜ `.idea` ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•˜ê³  ë‹¤ì‹œ import í•˜ë©´ ë¬¸ì œê°€ í•´ê²°ë©ë‹ˆë‹¤ë§Œ, ê³„ì†í•´ì„œ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‹¤í–‰ profile ì„ 'Flutter Test' ë¡œ ë³€ê²½í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

=== 3. ì½”ë“œ ë¹Œë“œê°€ ì•ˆ ë©ë‹ˆë‹¤!

ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê¸°íƒ€ ì–¸ì–´ì˜ pattern matching ê¸°ëŠ¥ì„ í‰ë‚´ë‚¸ link:{link-dart-pub}/match[match] ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” code generation ê¸°ìˆ ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— match êµ¬ë¬¸ì„ ì œëŒ€ë¡œ ìƒì„±í•˜ë ¤ë©´ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

[source,shell]
----
$ flutter pub run build_runner build
[INFO] Generating build script...
[INFO] Generating build script completed, took 208ms

[INFO] Initializing inputs
[INFO] Reading cached asset graph...
[INFO] Reading cached asset graph completed, took 36ms

[INFO] Checking for updates since last build...
[INFO] Checking for updates since last build completed, took 306ms

[INFO] Running build...
[INFO] Running build completed, took 1.0s

[INFO] Caching finalized dependency graph...
[INFO] Caching finalized dependency graph completed, took 33ms

[INFO] Succeeded after 1.1s with 0 outputs (29 actions)
----

ê·¸ëŸ°ë° match ë¥¼ ì“°ëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•œ ë’¤ ë§¤ë²ˆ ëª…ë ¹ì„ ì…ë ¥í•˜ëŠ”ê²ƒì€ ë§¤ìš° ë²ˆê±°ë¡­ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ, link:https://plugins.jetbrains.com/plugin/14442-flutter-toolkit/[Flutter-Toolkit] í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ë©´ ë²ˆê±°ë¡œì›€ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`Settings` > `Plugin` > `Marketplace` > `Flutter-Toolkit` ê²€ìƒ‰ > ì„¤ì¹˜

í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í›„ì—ëŠ” ë§¤ë²ˆ í„°ë¯¸ë„ì— ëª…ë ¹ì„ ì…ë ¥í•  í•„ìš” ì—†ì´, Android Studio ì˜ ì‹¤í–‰ Ribbon menu ì˜†ì— ìƒê¸´ Flutter-Toolkit ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

=== 4. 